<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Expires" content="Mon, 06 Jan 1990 00:00:01 GMT">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">

    <title>Team Elysium</title>
    <link rel="shortcut icon" href="./image/theme/icon.png" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.1/css/select2.min.css" rel="stylesheet" />
    <link href="../vendor/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="../vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet">

    <!-- Datatables -->
    <link href="../vendor/datatables.net-bs/css/dataTables.bootstrap.min.css" rel="stylesheet">
    <link href="../vendor/datatables.net-buttons-bs/css/buttons.bootstrap.min.css" rel="stylesheet">
    <link href="../vendor/datatables.net-responsive-bs/css/responsive.bootstrap.min.css" rel="stylesheet">

    <!-- html2Canvas -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.js"></script>

    <!-- Title image -->
    <link rel="shortcut icon" href="../image/webicon.png" />
    <!-- Custom Theme Style -->
    <link href="./build/css/custom.min.css" rel="stylesheet">
    <script>document.write("<link href='./rom_chart_maximum.css?version=" + Date.now() + "' rel='stylesheet'");</script>

  </head>
  <script type="text/paperscript" src="canvas.js" canvas="imageCanvas"></script>
  <script type="text/paperscript" src="canvas.js" canvas="imageCanvas2"></script>
  <script type="text/paperscript" src="canvas.js" canvas="imageCanvas1"></script>

  <body class="html-body" >
    <div class="container" style='page-break-before:always'>
      <div class="row">
        <div class="col-md-12 col-sm-12 col-xs-12">
            <div class="x_panel">
              <div class="x_title header">
                <div class="row">
                  <div class="col-md-10 col-sm-10 col-xs-10 ">
                    <img src="../image/white_logo.png"/ style="width:130px; margin-left : 40px; margin-top : 24px;">
                  </div>
                  <div class="col-md-2 col-sm-2 col-xs-2 ">
                    <div class="bs-example-popovers pull-right hidden-print">
                      <button type="button" class="custom-btn goMainPage" onclick="goMainPage()" style="">차트보기&nbsp;<img src="../image/chart_icon.png" width="25px"></button>
                    </div>
                  </div>
                </div>
                <div class="clearfix"></div>

              </div>
              <div class="x_content">
                <div class="row">
                  <div class="col-md-12 col-sm-12 col-xs-12 profile_details">
                    <h2 class="brief">환자 정보</h2>
                    <div class="profile_view info_container" style="padding: 25px 50px 0px 50px;">
                      <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="row">
                          <div class="col-md-4 col-sm-4 col-xs-4 patient_info">
                            <div class="row">
                              <div class="col-md-6 col-sm-6 col-xs-6" >
                                <p><strong>이름 : </strong><strong id="patient_name"> -- </strong></p>
                                <p><strong>병록번호 : </strong><strong  id="patient_number">No. </strong></p>
                              </div>
                              <div class="col-md-6 col-sm-6 col-xs-6">
                                <p><strong>성별 : </strong> <strong id="patient_gender"> -- </strong> </p>
                                <p><strong>생년월일 : </strong> <strong id="patient_birth"> -- </strong>  </p>
                                <p style="display:none"><strong>hashid</strong> <strong id="patient_id"></strong>  </p>
                              </div>
                            </div>
                          </div>

                          <div class="col-md-6 col-sm-6 col-xs-8" id="select_container">
                            <p><strong>환자와 측정 부위를 선택해주세요.</strong></p>
                            <ul class="nav nav-pills" role="tablist">
                              <li role="presentation" class="dropdown" id="drop1-wrapper">
                                <select id="drop1" href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" role="button" aria-expanded="true" onchange="getPatientJonintDirection()">
                                  <option id="patientid" value='' selected> 환자 리스트 </option>
                                </select>
                              </li>

                              <li role="presentation" class="dropdown" id="drop2-wrapper">
                                <select id="drop2" href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" role="button" aria-expanded="true" onchange="setJointDirection()">
                                  <option id="jointdirection" value='' selected> 측정 부위 </option>
                                </select>
                              </li>
                            </ul>
                          </div>
                          <div class="col-md-2 col-sm-2 col-xs-2 hidden-print" id="print_container">
                            <div class="bs-example-popovers center">
                              <button type="button" class="custom-btn print-btn" data-toggle="tooltip" data-placement="top" title="Go printing!" onclick="romPrint()"><img src="../image/print_icon.png"></button>

                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="container-fluid">
        <div class="row">
          <!-- .js -->
          <div class="col-md-6 col-sm-12 col-xs-12" id="rom-data-chart">
            <div class="x_panel" id="rom-data-chart-panel" style="">
              <h2 class="brief"> 측정 결과 그래프 </h2>
              <div class="x_content">

                <canvas id="myChart" height="180px"></canvas>
                <canvas id="myChart2" style="display: none" height="180px"></canvas>
                <canvas id="myChart3" style="display: none" height="180px"></canvas>
        

                <div class="row" id="calendarcontainer">
                  <div class="calendar col-md-3 col-sm-12 col-xs-12" id="minicalendar" style="display:none;">
                    <!-- Calendar toolbar -->
                    <div class="calendar-toolbar">
                      <!-- Calendar "date-indicator" span -->
                      <div class="calendar-current-date" style="font-size : 1.5em; color : #232f39; font-weight : bold;"
                            data-month-format="YYYY.MM">
                      </div>
                      <!-- Calendar "prev" button -->
                      <button data-toggle="calendar" data-action="prev" class="btn btn-default calendar-btn">
                        <img src="../image/calendar_down.png" width="50%">
                      </button>                                 
                      <!-- Calendar "next" button -->
                      <button data-toggle="calendar" data-action="next" class="btn btn-default calendar-btn">
                        <img src="../image/calendar_up.png" width="50%">
                      </button>                                          
                    </div>
                  </div>

                  <div class="calendar col-md-9 col-sm-12 col-xs-12" id="calendar" style="display:none">
                    <!-- Calendar toolbar -->
                    <div class="calendar-toolbar" style="text-align : center;">
                      <!-- Calendar "date-indicator" span -->
                      <div class="calendar-current-date" style="font-size : 2em; color : #232f39; font-weight : bold;" 
                            data-month-format="YYYY.MM">
                      </div>                               
                      <!-- Calendar "prev" button -->
                      <button data-toggle="calendar" data-action="prev" class="btn btn-default calendar-btn">
                        <img src="../image/calendar_down.png" width="80%">
                      </button>                                 
                      <!-- Calendar "next" button -->
                      <button data-toggle="calendar" data-action="next" class="btn btn-default calendar-btn">
                        <img src="../image/calendar_up.png" width="80%">
                      </button>                  
                    </div>
                  </div>
                </div>

                
              </div>
            </div>
          </div>


          <!-- DataTable -->
          <div class="col-md-6 col-sm-12 col-xs-12" id="rom-data-table">
              <h2 class="brief"> 측정 결과 테이블 </h2>
              <div class="x_content">
                <table data-order='[[ 0, "desc"]]' id="rom-datatable" class="table table-striped table-bordered">
                  <thead>
                    <tr>
                      <th id="rom-table-thead-date">Date</th>
                      <th id="rom-table-thead-angle">Max Angle</th>
                      <th id="rom-table-thead-variation">Variation</th>
                      <th id="rom-table-thead-number">Pain</th>
                    </tr>
                  </thead>

                  <tbody id="table_tbody">
                    <tr>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td id="rom-table-tbody-number"></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>

        </div>
      </div>

      <div class="container-fluid" style='margin-top: 10px' id="image-box">
        <div class="row">
          <div class="col-md-12 col-sm-12 col-xs-12">
            <div class="x_panel">
            <h2 class="brief"> 측정 이미지 </h2>
              <div class="x_content">
                <div class="row col-md-12 col-sm-12 col-xs-12" id="image_container">

                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="container-fluid hidden-print" style='page-break-before:always'>
        <div class="row">
          <div class="col-md-12 col-sm-12 col-xs-12">
            <div class="x_panel">

                <h2 class="title_toggle brief" data-toggle="collapse" href="#collapseMovie" aria-expanded="true" aria-controls="collapseMovie">
                  측정 영상
                </h2>


              <div class="container collapse" id="collapseMovie">
                 <div class="row video_flex">
                    <div class="col-md-9 video_container">
                      <div id="video_container">
                       <video id="video_tag" width="100%"  controls>
                         <source id="source_tag" type="video/mp4" src=""/>
                       </video>

                     </div>
                    </div>

                   <div class="col-md-3 video_select_container">
                     <h4 class="history"><b>HISTORY</b><img src="../image/history.png" style="vertical-align : text-top;"></h4>
                     <div>
                       <ul class="list-group" id="video_select">
                       </ul>

                     </div>
                   </div>
                 </div>
               </div>
             </div>

            </div>
          </div>
        </div>
      </div>

      <div class="container-fluid" id="screenshot-box">
        <div class="row">
          <div class="col-md-12 col-sm-12 col-xs-12">
            <div class="x_panel">

                <h2 class="title_toggle brief" data-toggle="collapse" href="#collapseScreenshot" aria-expanded="false" aria-controls="collapseScreenshot">
                  스크린샷

                  <span style="float : right;" id="screenshot_compare_btn" onclick="screenshotCompare()"> <img src="../image/icon1_compare.png" width="18px">비교하기</span>
                </h2>

              <div class="x_content collapse" id="collapseScreenshot">
                <div class="row col-md-12 col-sm-12 col-xs-12" id="screenshot_container"></div>
               </div>
            </div>
          </div>
        </div>
      </div>

      <!-- page content -->
      <div class="modal fade" id="paintingModal" role="dialog">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header row">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title" id="paintingModalTitle">선택한 날짜</h4>
                    <select class="form-control" id="paintingModalSelect">
                    </select>
                </div>
                <div class="modal-body">
                    <div class="gui toolbar">
                        <div class="tools">
                            <a class="bu tton canvas-clear icon-trash" title="Clear Canvas"></a>
                        </div>
                        <div class="clear"></div>
                        <div class="palettejs-root"></div>
                        <div class="clear"></div>
                        <div class="info hidden"></div>
                    </div>

                        <div class="button-images">
                            <div class="button-grid">
                                <div class="button-container">
                                    <a class="paintImgbtn" onclick="screenshotCanvasChange(0, this)">hud</a>
                                    <img src="" id="hudImg" alt="No Image" onerror='this.src="../image/noimg.png"' />
                                </div>
                            </div>
                            <div class="button-grid">
                                <div class="button-container">
                                    <a class="paintImgbtn" onclick="screenshotCanvasChange(0, this)">normal</a>
                                    <img src="" id="normalImg" alt="No Image"/>
                                </div>
                            </div>
                            <div class="button-grid" style="margin-right:0">
                                <div class="button-container">
                                    <a class="paintImgbtn" onclick="screenshotCanvasChange(0, this)">skeleton</a>
                                    <img src="" id="skeletonImg" alt="No Image" onerror='this.src="../image/noimg.png"' />
                                </div>
                            </div>
                        </div>

                        <canvas id="imageCanvas" style="-webkit-user-drag: none; user-select: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: #fff; width: 100%;" height="180"></canvas>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" onclick="$('#paintingModal').modal('hide');">확인</button>
                </div>

            </div>
        </div>
      </div>

      <!-- page content -->
      <div class="modal fade" id="paintingCompareModal" role="dialog">
        <div class="modal-dialog modal-lg row" style="width : 1200px;">
          <div class="modal-content">
            <div class="col-md-6 col-sm-6 col-xs-6">
                <div class="modal-header row">
                    <h4 class="modal-title" id="paintingModalTitle1">선택한 날짜</h4>
                    <select class="form-control" id="paintingModalSelect1">
                    </select>
                </div>
                <div class="modal-body">
                    <div class="gui toolbar">
                        <div class="tools">
                            <a class="bu tton canvas-clear icon-trash" title="Clear Canvas"></a>
                        </div>
                        <div class="clear"></div>
                        <div class="palettejs-root"></div>
                        <div class="clear"></div>
                        <div class="info hidden"></div>
                    </div>

                    <div class="button-images">
                        <div class="button-grid">
                            <div class="button-container">
                                <a class="paintImgbtn" onclick="screenshotCanvasChange(1, this)">hud</a>
                                <img src="" id="hudImg1" alt="No Image" onerror='this.src="../image/noimg.png"' />
                            </div>
                        </div>
                        <div class="button-grid">
                            <div class="button-container">
                                <a class="paintImgbtn" onclick="screenshotCanvasChange(1, this)">normal</a>
                                <img src="" id="normalImg1" alt="No Image" />
                            </div>
                        </div>
                        <div class="button-grid" style="margin-right:0">
                            <div class="button-container">
                                <a class="paintImgbtn" onclick="screenshotCanvasChange(1, this)">skeleton</a>
                                <img src="" id="skeletonImg1" alt="No Image" onerror='this.src="../image/noimg.png"' />
                            </div>
                        </div>
                    </div>

                    <canvas id="imageCanvas1" style="-webkit-user-drag: none; user-select: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: #fff; width: 100%;" height="180"></canvas>

                </div>
            </div>



            <div class="col-md-6 col-sm-6 col-xs-6">
                <div class="modal-header row">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title" id="paintingModalTitle2">선택한 날짜</h4>
                    <select class="form-control" id="paintingModalSelect2">
                    </select>
                </div>
                <div class="modal-body">
                    <div class="gui toolbar">
                        <div class="tools">
                            <a class="bu tton canvas-clear icon-trash" title="Clear Canvas"></a>
                        </div>
                        <div class="clear"></div>
                        <div class="palettejs-root"></div>
                        <div class="clear"></div>
                        <div class="info hidden"></div>
                    </div>

                    <div class="button-images">
                        <div class="button-grid">
                            <div class="button-container">
                                <a class="paintImgbtn" onclick="screenshotCanvasChange(2, this)">hud</a>
                                <img src="" id="hudImg2" alt="No Image" onerror='this.src="../image/noimg.png"' />
                            </div>
                        </div>
                        <div class="button-grid">
                            <div class="button-container">
                                <a class="paintImgbtn" onclick="screenshotCanvasChange(2, this)">normal</a>
                                <img src="" id="normalImg2" alt="No Image" />
                            </div>
                        </div>
                        <div class="button-grid" style="margin-right:0">
                            <div class="button-container">
                                <a class="paintImgbtn" onclick="screenshotCanvasChange(2, this)">skeleton</a>
                                <img src="" id="skeletonImg2" alt="No Image" onerror='this.src="../image/noimg.png"' />
                            </div>
                        </div>
                    </div>

                    <canvas id="imageCanvas2" style="-webkit-user-drag: none; user-select: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); background: #fff; width: 100%;" height="180"></canvas>

                </div>
            </div>
                            <div class="modal-footer">
                    <button type="button" class="btn btn-primary" onclick="$('#paintingModal').modal('hide');">확인</button>
                </div>
          </div>
 
        </div>
    </div>

      <!-- page content -->
      <div class="modal fade modal-center" id="NRSModal" role="dialog">
        <div class="modal-dialog modal-50size">
          <div class="modal-content modal-50size">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <h4 class="modal-title">NRS 통증척도</h4>
            </div>
            <div class="modal-body">
              <div class="range">
                <input type="range" min="1" max="11" steps="1" value="1" class="slider" id="myRange" />
              </div>

              <ul class="range-labels">
                  <li class="active selected">0<br/><br/><img src="../image/nrs/0.png"></li>
                  <li>1</li>
                  <li>2<br/><br/><img src="../image/nrs/2.png"></li>
                  <li>3</li>
                  <li>4<br/><br/><img src="../image/nrs/4.png"></li>
                  <li>5</li>
                  <li>6<br/><br/><img src="../image/nrs/6.png"></li>
                  <li>7</li>
                  <li>8<br/><br/><img src="../image/nrs/8.png"></li>
                  <li>9</li>
                  <li>10<br/><br/><img src="../image/nrs/10.png"></li>
                </ul>
            </div>

            <div class="modal-footer">
              <button type="button" class="btn btn-primary" onclick="saveNRS()">저장</button>
            </div>

          </div>
        </div>
      </div>


      <!-- footer content -->
      <div class="container-fluid">
        <div class="row">
          <div class="col-md-12 col-sm-12 col-xs-12">
            <div class="copyright">
              COPYRIGHT © <a href="http://www.teamelysium.kr"><b>Team Elysium Inc.</b></a> ALL RIGHTS RESERVED
            </div>
            <div class="clearfix"></div>
          </div>
        </div>
      </div>
      <!-- /footer content -->

      <div id="savePart"></div>

      <!-- jQuery -->

      <script src="../vendor/jquery/dist/jquery.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.1/js/select2.min.js"></script>
      <!-- Bootstrap -->
      <script src="../vendor/bootstrap/dist/js/bootstrap.min.js"></script>
      <!-- Chart.js -->
      <script src="../vendor/Chart.js/dist/Chart.min.js"></script>
      <script>document.write("<script type='text/javascript' src='./rom_chart_maximum.js?version=" + Date.now() + "'><\/script>");</script>
      <!-- Paper.js -->
      <script src="../node_modules/paper/dist/paper-full.js"></script>
      <!-- Datatables -->
      <script src="../vendor/datatables.net/js/jquery.dataTables.min.js"></script>
      <script src="../vendor/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
      <script src="../vendor/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
      <script src="../vendor/datatables.net-buttons-bs/js/buttons.bootstrap.min.js"></script>
      <script src="../vendor/datatables.net-buttons/js/buttons.flash.min.js"></script>
      <script src="../vendor/datatables.net-buttons/js/buttons.html5.min.js"></script>
      <script src="../vendor/datatables.net-buttons/js/buttons.print.min.js"></script>
      <script src="../vendor/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
      <script src="../vendor/datatables.net-responsive-bs/js/responsive.bootstrap.js"></script>
      <script src="../vendor/moment.js/moment.js"></script>

      <!-- Custom Theme Scripts -->
      <script src="./build/js/custom.min.js"></script>

  </body>
</html>
